<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>stylizeable_view.js</title>
  <link rel="stylesheet" href="http://jashkenas.github.com/docco/resources/docco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div id="jump_to">
    Jump To &hellip;
    <div id="jump_wrapper">
      <div id="jump_page">
          <a class="source" href="base_classes.html">base_classes.js</a>
          <a class="source" href="base_errors_view.html">base_errors_view.js</a>
          <a class="source" href="bindable_field.html">bindable_field.js</a>
          <a class="source" href="bindable_view.html">bindable_view.js</a>
          <a class="source" href="collection.html">collection.js</a>
          <a class="source" href="core.js.html">core.js.erb</a>
          <a class="source" href="editable_view.html">editable_view.js</a>
          <a class="source" href="error_list.html">error_list.js</a>
          <a class="source" href="flashable_view.html">flashable_view.js</a>
          <a class="source" href="form_fields.html">form_fields.js</a>
          <a class="source" href="form_validations.html">form_validations.js</a>
          <a class="source" href="handlebars.html">handlebars.js</a>
          <a class="source" href="handlebars_extensions.html">handlebars_extensions.js</a>
          <a class="source" href="index.html">index.js</a>
          <a class="source" href="listable_view.html">listable_view.js</a>
          <a class="source" href="model.html">model.js</a>
          <a class="source" href="nestable_view.html">nestable_view.js</a>
          <a class="source" href="pageable_collection.html">pageable_collection.js</a>
          <a class="source" href="pageable_view.html">pageable_view.js</a>
          <a class="source" href="remoteable_view.js.html">remoteable_view.js.erb</a>
          <a class="source" href="routeable_application.html">routeable_application.js</a>
          <a class="source" href="simple_queue.html">simple_queue.js</a>
          <a class="source" href="stylizeable_view.html">stylizeable_view.js</a>
          <a class="source" href="syncable.html">syncable.js</a>
          <a class="source" href="template_registry.js.html">template_registry.js.erb</a>
          <a class="source" href="templateable_view.js.html">templateable_view.js.erb</a>
          <a class="source" href="validateable_field.html">validateable_field.js</a>
          <a class="source" href="view_lifecycle_extensions.html">view_lifecycle_extensions.js</a>
      </div>
    </div>
  </div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>stylizeable_view.js</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-Duckbone.StylizeableView'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Duckbone.StylizeableView">&#182;</a>
        </div>
        <h1>Duckbone.StylizeableView</h1>

<p>Some developers prefer to package their stylesheets in the code along with
the views that they affect. This technique can avoid the common situation in
which a monolithic stylesheet devolves into a mess of spaghetti with
many dependencies that are difficult to resolve. The disadvantage of this
approach is that it prohibits the use of newer CSS tools such as Compass,
SASS, LESS, etc. that are easily leveraged through the asset pipeline.</p>

<p>Duckbone.View comes with StylizeableView support, but a project can work
equally well with or without using it.</p>

<h2>Usage</h2>

<p>Specify styles to be applied to all elements of the view in the <code>styles</code>
property. This object is simply a map of selectors and the styles to apply.
The syntax should be identical to that which would be passed to <code>jquery.css()</code>.</p>

<p>Use the special selector &lsquo;el&rsquo; to apply styles to the root element.
&lsquo;el.className&rsquo; also works</p>

<p>For example:</p>

<pre><code>styles: {
  &lsquo;el&rsquo;:      {&lsquo;padding&rsquo;: &lsquo;5px&rsquo;, &lsquo;margin&rsquo;: &lsquo;5px&rsquo;},
  &lsquo;el.hot&rsquo;:  {&lsquo;color&rsquo;: &lsquo;red&rsquo;},
  &lsquo;b.money&rsquo;: {&lsquo;color&rsquo;: &lsquo;green&rsquo;},
  &lsquo;li&rsquo;:      {&lsquo;margin&rsquo;: &lsquo;10px&rsquo;}
}
</code></pre>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

 <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">StylizeableView</span> <span class="o">=</span> <span class="p">{</span></pre></div>
      </td>
    </tr>
    <tr id='section-Mixin'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Mixin">&#182;</a>
        </div>
        <h3>Mixin</h3>
      </td>
      <td class=code>
        <div class='highlight'><pre></pre></div>
      </td>
    </tr>
    <tr id='section-property_isStylizeableView'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-property_isStylizeableView">&#182;</a>
        </div>
        <h4>property isStylizeableView</h4>

<p>Indicates the presence of this mixin</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">isStylizeableView</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_included'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_included">&#182;</a>
        </div>
        <h4>function included</h4>

<p>Also include ViewLifecycleExtensions</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">included</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">hasViewLifecycleExtensions</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">include</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">ViewLifecycleExtensions</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_applyStyles'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_applyStyles">&#182;</a>
        </div>
        <h4>function applyStyles</h4>

<ul>
<li>styles &ndash; a map of styles to apply to the children of this view,
defaulting to the view&rsquo;s <code>styles</code> property.</li>
<li>returns &ndash; nothing</li>
</ul>

      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">applyStyles</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">styles</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">styles</span> <span class="o">=</span> <span class="nx">styles</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">styles</span> <span class="o">||</span> <span class="p">{};</span>
      <span class="kd">var</span> <span class="nx">tagName</span><span class="p">,</span> <span class="nx">className</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">selector</span> <span class="k">in</span> <span class="nx">styles</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">tagName</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
        <span class="nx">className</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">selector</span> <span class="o">==</span> <span class="s1">&#39;el&#39;</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="nx">styles</span><span class="p">[</span><span class="s1">&#39;el&#39;</span><span class="p">]);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">tagName</span> <span class="o">==</span> <span class="s1">&#39;el&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">className</span> <span class="o">&amp;&amp;</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">className</span><span class="p">))</span> <span class="p">{</span>
          <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="nx">styles</span><span class="p">[</span><span class="nx">selector</span><span class="p">]);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="nx">styles</span><span class="p">[</span><span class="nx">selector</span><span class="p">]);</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>

  <span class="p">}</span>

<span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span></pre></div>
      </td>
    </tr>
  </table>
</div>
</body>
