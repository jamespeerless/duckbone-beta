<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>form_fields.js</title>
  <link rel="stylesheet" href="http://jashkenas.github.com/docco/resources/docco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div id="jump_to">
    Jump To &hellip;
    <div id="jump_wrapper">
      <div id="jump_page">
          <a class="source" href="base_classes.html">base_classes.js</a>
          <a class="source" href="base_errors_view.html">base_errors_view.js</a>
          <a class="source" href="bindable_field.html">bindable_field.js</a>
          <a class="source" href="bindable_view.html">bindable_view.js</a>
          <a class="source" href="collection.html">collection.js</a>
          <a class="source" href="core.html">core.js</a>
          <a class="source" href="editable_view.html">editable_view.js</a>
          <a class="source" href="error_list.html">error_list.js</a>
          <a class="source" href="flashable_view.html">flashable_view.js</a>
          <a class="source" href="form_fields.html">form_fields.js</a>
          <a class="source" href="form_validations.html">form_validations.js</a>
          <a class="source" href="handlebars.html">handlebars.js</a>
          <a class="source" href="handlebars_extensions.html">handlebars_extensions.js</a>
          <a class="source" href="index.html">index.js</a>
          <a class="source" href="listable_view.html">listable_view.js</a>
          <a class="source" href="model.html">model.js</a>
          <a class="source" href="nestable_view.html">nestable_view.js</a>
          <a class="source" href="pageable_collection.html">pageable_collection.js</a>
          <a class="source" href="pageable_view.html">pageable_view.js</a>
          <a class="source" href="remoteable_view.html">remoteable_view.js</a>
          <a class="source" href="routeable_application.html">routeable_application.js</a>
          <a class="source" href="simple_queue.html">simple_queue.js</a>
          <a class="source" href="stylizeable_view.html">stylizeable_view.js</a>
          <a class="source" href="syncable.html">syncable.js</a>
          <a class="source" href="template_registry.html">template_registry.js</a>
          <a class="source" href="templateable_view.html">templateable_view.js</a>
          <a class="source" href="validateable_field.html">validateable_field.js</a>
          <a class="source" href="view_lifecycle_extensions.html">view_lifecycle_extensions.js</a>
      </div>
    </div>
  </div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>form_fields.js</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-Form_Fields'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Form_Fields">&#182;</a>
        </div>
        <h1>Form Fields</h1>

<p>This file defines all of the typical web form fields generally used with an EditableView.
It registers the Handlebars helpers to template a form, as well as the Backbone View classes
for each field type.</p>

<h3>Building Form Templates</h3>

<p>Define a form template for each EditableView using the given Handlebars helpers. It is easiest
to name each form field with the name of its corresponding model attribute. Define each
form field&rsquo;s options in the view&rsquo;s <code>fields</code> object, as described in the docs for EditableView.
For example:</p>

<pre><code>&lt;h1&gt;New Post&lt;/h1&gt;
{{#form new_post}}
  {{form_label &ldquo;headline&rdquo; &ldquo;Post Headline&rdquo;}}
  {{form_text &ldquo;headline&rdquo;}}
  {{form_label &ldquo;body&rdquo; &ldquo;Post Body&rdquo;}}
  {{form_textarea &ldquo;body&rdquo;}}
  {{form_label &ldquo;category&rdquo; &ldquo;Post Category&rdquo;}}
  {{form_select &ldquo;category&rdquo;}}
  {{form_submit &ldquo;new_post&rdquo; &ldquo;Create Post&rdquo;}}
{{/form}}
</code></pre>

<h3>Custom Field Types</h3>

<p>Extend the class <code>Duckbone.FormFieldBase</code> to create additional field types. Add additional
functionality to <code>afterInitialize</code> and <code>createChildren</code>. Override <code>get</code> and <code>set</code> to interact
with the model.</p>

<p>Study the class <code>Duckbone.RadioSetFormField</code> for an example of a complex new field type.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>
      </td>
    </tr>
    <tr id='section-Handlebars_Helpers'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Handlebars_Helpers">&#182;</a>
        </div>
        <h3>Handlebars Helpers</h3>
      </td>
      <td class=code>
        <div class='highlight'><pre></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{#form}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{#form}}">&#182;</a>
        </div>
        <h4>helper {{#form}}</h4>

<ul>
<li>name &ndash; the form&rsquo;s <code>name</code> attribute</li>
<li>block &ndash; a block template containing the body of the form</li>
</ul>

<p>Block helper to create a form tag. It&rsquo;s name attribute will be set to the given name,
and its class will be set to the same. In the event that the form is named in Rails-style
<code>new_foo</code> or <code>edit_foo</code>, then the class <code>foo</code> will also be added.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">block</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">className</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="nx">className</span> <span class="o">=</span> <span class="nx">className</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^(new_)(.*)/</span><span class="p">,</span> <span class="s2">&quot;$2&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^(edit_)(.*)/</span><span class="p">,</span> <span class="s2">&quot;$2&quot;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">className</span> <span class="o">!=</span> <span class="nx">name</span><span class="p">)</span> <span class="nx">className</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">;</span>
    <span class="k">return</span> <span class="s1">&#39;&lt;form action=&quot;#&quot; name=&quot;&#39;</span><span class="o">+</span><span class="nx">name</span><span class="o">+</span><span class="s1">&#39;&quot; class=&quot;&#39;</span><span class="o">+</span><span class="nx">className</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;\n&#39;</span> <span class="o">+</span> <span class="nx">block</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;\n&lt;/form&gt;&#39;</span><span class="p">;</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_error_banner}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_error_banner}}">&#182;</a>
        </div>
        <h4>helper {{form_error_banner}}</h4>

<ul>
<li>text &ndash; the text to display in the form&rsquo;s error banner</li>
</ul>

<p>This helper creates a div containing a form error banner. This banner is shown
whenever the form is submitted and found to be invalid.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_error_banner&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">text</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">text</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="o">?</span> <span class="nx">text</span> <span class="o">:</span> <span class="s2">&quot;Please fix the errors below&quot;</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;error_banner&quot; style=&quot;display: none&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_error}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_error}}">&#182;</a>
        </div>
        <h4>helper {{form_error}}</h4>

<ul>
<li>name &ndash; the form field for which to display validation errors</li>
</ul>

<p>Explicitly place the form error el rather than in the default location.
Otherwise it will be implicitly placed after the element.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_error&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;&#39;</span><span class="o">+</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;_errors&quot;&gt;&lt;/div&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_label}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_label}}">&#182;</a>
        </div>
        <h4>helper {{form_label}}</h4>

<ul>
<li>name &ndash; the name of the associated form field</li>
<li>text &ndash; the text for the label</li>
</ul>

<p>Creates an HTML <code>&lt;label&gt;</code> tag that is associated to the given form field.
If label text is omitted, then the prettified form field name is used.
For example, <code>new_account_application</code> will become &ldquo;New Account Application&rdquo;.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_label&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">text_or_block</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">text</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">text_or_block</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">text</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span> <span class="c1">// text is empty. use name</span>
      <span class="nx">text</span> <span class="o">=</span> <span class="nx">text</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^(.)/</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span> <span class="c1">// capitalize first character</span>
      <span class="p">});</span>
      <span class="nx">text</span> <span class="o">=</span> <span class="nx">text</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(\_[a-z])/g</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">$1</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">);</span> <span class="c1">// capitalize each next word, replace _ with space</span>
      <span class="p">});</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">text_or_block</span> <span class="o">==</span> <span class="s2">&quot;function&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">text</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="nx">text_or_block</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">text</span> <span class="o">=</span> <span class="nx">text_or_block</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;label data-field-name=&quot;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&lt;/label&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_text}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_text}}">&#182;</a>
        </div>
        <h4>helper {{form_text}}</h4>

<ul>
<li>name &ndash; the form field name</li>
</ul>

<p>Create an HTML tag of type <code>&lt;input type=&ldquo;text&rdquo;&gt;</code></p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_text&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;input class=&quot;form_text&quot; type=&quot;text&quot; name=&quot;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;/&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_select}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_select}}">&#182;</a>
        </div>
        <h4>helper {{form_select}}</h4>

<ul>
<li>name &ndash; the form field name</li>
</ul>

<p>Create an empty HTML <code>&lt;select&gt;</code> tag. The form field view is responsible for populating
the child <code>option</code> elements according to its <code>selectOptions</code> property.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_select&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;select class=&quot;form_select&quot; name=&quot;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;&lt;/select&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_radio_set}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_radio_set}}">&#182;</a>
        </div>
        <h4>helper {{form_radio_set}}</h4>

<ul>
<li>name &ndash; the form field name</li>
</ul>

<p>The Duckbone radio set field is a high level abstraction on top of a collection of
HTML <code>&lt;input type=&ldquo;radio&gt;&rdquo;</code> tags, that allows the developer to treat the entire radio
set as a single form field. The helper creates a container which is populated by the view.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_radio_set&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;form_radio_set&quot; name=&quot;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;&lt;/div&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_checkbox}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_checkbox}}">&#182;</a>
        </div>
        <h4>helper {{form_checkbox}}</h4>

<ul>
<li>name &ndash; the form field name</li>
</ul>

<p>Create an HTML tag of type <code>&lt;input type=&ldquo;checkbox&rdquo;&gt;</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_checkbox&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;input class=&quot;form_checkbox&quot; type=&quot;checkbox&quot; name=&quot;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;/&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_textarea}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_textarea}}">&#182;</a>
        </div>
        <h4>helper {{form_textarea}}</h4>

<ul>
<li>name &ndash; the form field name</li>
</ul>

<p>Create an HTML tag of type <code>&lt;textarea&gt;</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_textarea&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;textarea class=&quot;form_textarea&quot; name=&quot;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;&lt;/textarea&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_password}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_password}}">&#182;</a>
        </div>
        <h4>helper {{form_password}}</h4>

<ul>
<li>name &ndash; the form field name</li>
</ul>

<p>Create an HTML tag of type <code>&lt;input type=&ldquo;password&rdquo;&gt;</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_password&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;input class=&quot;form_password&quot; type=&quot;password&quot; name=&quot;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;&lt;/input&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_submit}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_submit}}">&#182;</a>
        </div>
        <h4>helper {{form_submit}}</h4>

<ul>
<li>name &ndash; the form field name, generally set to the same as the name of the form itself</li>
</ul>

<p>Create an HTML tag of type <code>&lt;button&gt;</code> for triggering form submission.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_submit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">text</span> <span class="o">==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;Save&quot;</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">text</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;Save&quot;</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="s1">&#39;&lt;button class=&quot;form_submit&quot; name=&quot;&#39;</span> <span class="o">+</span>
      <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&lt;/button&gt;&#39;</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-helper_{{form_submit_with_spinner}}'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-helper_{{form_submit_with_spinner}}">&#182;</a>
        </div>
        <h4>helper {{form_submit_with_spinner}}</h4>

<ul>
<li>name &ndash; the form field name, generally set to the same as the name of the form itself</li>
</ul>

<p>Create an HTML tag of type <code>&lt;button&gt;</code> for triggering form submission.
Also creates a small invisible spinner graphic, which the form submit view can use.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;form_submit_with_spinner&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">path</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">path</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">path</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;/assets/ajax_loader.gif&#39;</span> <span class="o">:</span> <span class="nx">path</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">text</span> <span class="o">==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;Save&quot;</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">text</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;Save&quot;</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="s1">&#39;&lt;button class=&quot;form_submit&quot; name=&quot;&#39;</span><span class="o">+</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;&#39;</span> <span class="o">+</span>
      <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&lt;/button&gt;&#39;</span><span class="p">;</span>
    <span class="nx">out</span> <span class="o">+=</span> <span class="s1">&#39;&lt;img src=&quot;&#39;</span> <span class="o">+</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot; class=&quot;ajax_loading &#39;</span> <span class="o">+</span>
      <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_loading&quot; style=&quot;display: none&quot;/&gt;&#39;</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">SafeString</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-Duckbone.FormFieldBase'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Duckbone.FormFieldBase">&#182;</a>
        </div>
        <h3>Duckbone.FormFieldBase</h3>

<p>This provides a base class for all form fields defined in this file, or extended by the developer.
It extends Backbone View with BindableField and ValidateableField.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">FormFieldBase</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">();</span>

  <span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">Duckbone</span><span class="p">.</span><span class="nx">FormFieldBase</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">BindableField</span><span class="p">,</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">ValidateableField</span><span class="p">,</span> <span class="p">{</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_initialize'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_initialize">&#182;</a>
        </div>
        <h4>function initialize</h4>

<ul>
<li>options &ndash; <code>Backbone.View</code> initialization options</li>
</ul>

<p>Initializes all of the functionality in BindableField and ValidateableField. Calls the hooks
for further extension.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">name</span> <span class="o">||</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">form</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">form</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">elAttributes</span><span class="p">)</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">elAttributes</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">afterInitialize</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">createChildren</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">bindToModel</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">bindToDOM</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">bindValidation</span><span class="p">();</span>
    <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_afterInitialize'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_afterInitialize">&#182;</a>
        </div>
        <h4>function afterInitialize</h4>

<ul>
<li>options &ndash; <code>Backbone.View</code> initialization options</li>
</ul>

<p>Provides a hook for the developer to add additional functionality to subclasses.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">afterInitialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{},</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_afterInitialize'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_afterInitialize">&#182;</a>
        </div>
        <h4>function afterInitialize</h4>

<p>Provides a hook for the developer to add additional functionality to subclasses.
This method is used when the field must add additional elements to the DOM
to implement its functionality.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">createChildren</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>

  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-TextFormField'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-TextFormField">&#182;</a>
        </div>
        <h3>TextFormField</h3>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">TextFormField</span> <span class="o">=</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">FormFieldBase</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span></pre></div>
      </td>
    </tr>
    <tr id='section-property_type'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-property_type">&#182;</a>
        </div>
        <h4>property type</h4>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
    <span class="nx">stripWhitespace</span><span class="o">:</span> <span class="kc">true</span>

  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-SelectFormField'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-SelectFormField">&#182;</a>
        </div>
        <h3>SelectFormField</h3>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">SelectFormField</span> <span class="o">=</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">FormFieldBase</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span></pre></div>
      </td>
    </tr>
    <tr id='section-property_type'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-property_type">&#182;</a>
        </div>
        <h4>property type</h4>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;select&quot;</span><span class="p">,</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_createChildren'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_createChildren">&#182;</a>
        </div>
        <h4>function createChildren</h4>

<p>Adds all of the child <code>&lt;option&gt;</code> elements to the <code>&lt;select&gt;</code> element,
as defined by the field&rsquo;s <code>selectOptions</code> property.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">createChildren</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">createOptions</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">selectOptions</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="nx">createOptions</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newOptions</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">newOptions</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">newOptions</span> <span class="o">==</span> <span class="s2">&quot;function&quot;</span><span class="p">)</span> <span class="o">?</span> <span class="nx">newOptions</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="o">:</span> <span class="nx">newOptions</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">opt</span> <span class="k">in</span> <span class="nx">newOptions</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">optionEl</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;option&gt;&lt;/option&gt;&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="nx">opt</span><span class="p">});</span>
        <span class="nx">optionEl</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="nx">newOptions</span><span class="p">[</span><span class="nx">opt</span><span class="p">]));</span>
        <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">optionEl</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">},</span>

    <span class="nx">setOptions</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">selectOptions</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">createOptions</span><span class="p">(</span><span class="nx">selectOptions</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">synchronizeSelectionWithModel</span><span class="p">();</span>
    <span class="p">},</span>

    <span class="nx">synchronizeSelectionWithModel</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">modelValue</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">modelAttribute</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">modelValue</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">()</span> <span class="o">!=</span> <span class="k">this</span><span class="p">.</span><span class="nx">modelValue</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">oneAttr</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="nx">oneAttr</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">modelAttribute</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">oneAttr</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-RadioSetFormField'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-RadioSetFormField">&#182;</a>
        </div>
        <h3>RadioSetFormField</h3>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">RadioSetFormField</span> <span class="o">=</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">FormFieldBase</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span></pre></div>
      </td>
    </tr>
    <tr id='section-property_type'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-property_type">&#182;</a>
        </div>
        <h4>property type</h4>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;radio_set&quot;</span><span class="p">,</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_createChildren'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_createChildren">&#182;</a>
        </div>
        <h4>function createChildren</h4>

<p>Adds all of the child radio button elements to the field,
as defined by the field&rsquo;s <code>selectOptions</code> property.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">createChildren</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">opts</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">selectOptions</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">selectOptions</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">opts</span> <span class="o">==</span> <span class="s2">&quot;function&quot;</span><span class="p">)</span> <span class="o">?</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="o">:</span> <span class="nx">opts</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">opt</span> <span class="k">in</span> <span class="nx">selectOptions</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">fieldId</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="nx">opt</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">optionEl</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;div&gt;&lt;input type=&quot;radio&quot;/&gt;&lt;label for=&quot;&#39;</span> <span class="o">+</span> <span class="nx">fieldId</span> <span class="o">+</span> <span class="s1">&#39;&quot; class=&quot;radio_label&quot;&gt;&lt;/label&gt;&lt;/div&gt;&#39;</span><span class="p">);</span>
        <span class="nx">$</span><span class="p">(</span><span class="nx">optionEl</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span><span class="nx">id</span><span class="o">:</span> <span class="nx">fieldId</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">opt</span><span class="p">});</span>
        <span class="nx">$</span><span class="p">(</span><span class="nx">optionEl</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">escapeExpression</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">selectOptions</span><span class="p">[</span><span class="nx">opt</span><span class="p">]));</span>
        <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">optionEl</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">;</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// Retrigger input changes on top level div</span>
        <span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">);</span>                           <span class="c1">// which triggers our normal bindings to happen</span>
      <span class="p">});</span>
    <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_get'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_get">&#182;</a>
        </div>
        <h4>function get</h4>

<ul>
<li>returns &ndash; the value of the field.</li>
</ul>

<p>Overrides the super to return the value of the selected radio element</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;input:checked&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">);</span>
    <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_set'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_set">&#182;</a>
        </div>
        <h4>function set</h4>

<ul>
<li>newValue &ndash; the new field value</li>
</ul>

<p>Overrides the super to select the matching radio element</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">checkedRadio</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;input:checked&#39;</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1">// Find existing selection</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">checkedRadio</span><span class="p">)</span> <span class="nx">checkedRadio</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Wipe existing selection</span>
      <span class="kd">var</span> <span class="nx">radio</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;input[value=&quot;&#39;</span><span class="o">+</span><span class="nx">newValue</span><span class="o">+</span><span class="s1">&#39;&quot;]&#39;</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// Find the desired new selection.</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">radio</span><span class="p">)</span> <span class="nx">radio</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// Set new selection</span>
    <span class="p">}</span>

  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-CheckboxFormField'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-CheckboxFormField">&#182;</a>
        </div>
        <h3>CheckboxFormField</h3>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">CheckboxFormField</span> <span class="o">=</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">FormFieldBase</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span></pre></div>
      </td>
    </tr>
    <tr id='section-property_type'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-property_type">&#182;</a>
        </div>
        <h4>property type</h4>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;checkbox&quot;</span><span class="p">,</span>

    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:checked&#39;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">modelValue</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span><span class="nx">checked</span><span class="o">:</span> <span class="nx">modelValue</span><span class="p">});</span>
    <span class="p">}</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-TextAreaFormField'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-TextAreaFormField">&#182;</a>
        </div>
        <h3>TextAreaFormField</h3>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">TextAreaFormField</span> <span class="o">=</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">FormFieldBase</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span></pre></div>
      </td>
    </tr>
    <tr id='section-property_type'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-property_type">&#182;</a>
        </div>
        <h4>property type</h4>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;textarea&quot;</span><span class="p">,</span>
    <span class="nx">stripWhitespace</span><span class="o">:</span> <span class="kc">true</span>

  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-PasswordFormField'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-PasswordFormField">&#182;</a>
        </div>
        <h3>PasswordFormField</h3>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">PasswordFormField</span> <span class="o">=</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">FormFieldBase</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span></pre></div>
      </td>
    </tr>
    <tr id='section-property_type'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-property_type">&#182;</a>
        </div>
        <h4>property type</h4>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;password&quot;</span><span class="p">,</span>

  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-SubmitFormField'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-SubmitFormField">&#182;</a>
        </div>
        <h3>SubmitFormField</h3>

<p>Does not extend FormFieldBase since it&rsquo;s not a BindableField</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">SubmitFormField</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">();</span>

  <span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">Duckbone</span><span class="p">.</span><span class="nx">SubmitFormField</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">BindableField</span><span class="p">,</span> <span class="p">{</span></pre></div>
      </td>
    </tr>
    <tr id='section-property_type'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-property_type">&#182;</a>
        </div>
        <h4>property type</h4>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;submit&quot;</span><span class="p">,</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_initialize'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_initialize">&#182;</a>
        </div>
        <h4>function initialize</h4>

<ul>
<li>options &ndash; Backbone.View options</li>
</ul>

<p>Sets up the submit button. Pass <code>submitForm: false</code> and the button will not
submit the form, otherwise it will naturally submit the form.
Additionally, a submit form field may be defined <em>outside</em> of the form itself,
and the form may be passed in as an option to enable the button to submit it.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">form</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">form</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">spinnerEl</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">next</span><span class="p">(</span><span class="s1">&#39;img.ajax_loading&#39;</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">_</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bindDisableAndSpin</span><span class="p">,</span> <span class="k">this</span><span class="p">));</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">submitForm</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">submitForm</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="nx">options</span><span class="p">.</span><span class="nx">submitForm</span><span class="p">;</span>
    <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_bindDisableAndSpin'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_bindDisableAndSpin">&#182;</a>
        </div>
        <h4>function bindDisableAndSpin</h4>

<p>Bind the method <code>disableAndSpin</code> in response to a button click. If the form is valid,
and it calls <code>Model.save()</code> then the handler will fire.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">bindDisableAndSpin</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;sync:create&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">disableAndSpin</span><span class="p">);</span> <span class="c1">// Don&#39;t double up bindings</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;sync:update&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">disableAndSpin</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;sync:create&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">disableAndSpin</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span> <span class="c1">// Disable and spin</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;sync:update&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">disableAndSpin</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span> <span class="c1">// if syncing starts</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">submitForm</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>
    <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_disableAndSpin'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_disableAndSpin">&#182;</a>
        </div>
        <h4>function disableAndSpin</h4>

<p>Add the class &lsquo;loading&rsquo; to the button, which the developer should use to make the button
appear disabled. Also, this method steals all subsequent clicks on the button until the
sync completes, to provide double click protection.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">disableAndSpin</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;sync:create&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">disableAndSpin</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;sync:update&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">disableAndSpin</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">spinnerEl</span><span class="p">)</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">spinnerEl</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">();</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;loading&#39;</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">stealClick</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;sync:complete&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">syncComplete</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_stealClick'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_stealClick">&#182;</a>
        </div>
        <h4>function stealClick</h4>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">stealClick</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-function_syncComplete'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-function_syncComplete">&#182;</a>
        </div>
        <h4>function syncComplete</h4>

<p>Unbind handlers and restore normal state.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">syncComplete</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;loading&#39;</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">spinnerEl</span><span class="p">)</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">spinnerEl</span><span class="p">).</span><span class="nx">fadeOut</span><span class="p">();</span>
      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">_</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bindDisableAndSpin</span><span class="p">,</span> <span class="k">this</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">});</span></pre></div>
      </td>
    </tr>
    <tr id='section-Field_Types_Registry'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Field_Types_Registry">&#182;</a>
        </div>
        <h3>Field Types Registry</h3>

<p>Create a registry of all form field types. Add additional user-defined field types here.</p>

      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">forms</span><span class="p">.</span><span class="nx">fieldTypes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">text</span><span class="o">:</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">TextFormField</span><span class="p">,</span>
    <span class="nx">select</span><span class="o">:</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">SelectFormField</span><span class="p">,</span>
    <span class="nx">radio_set</span><span class="o">:</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">RadioSetFormField</span><span class="p">,</span>
    <span class="nx">checkbox</span><span class="o">:</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">CheckboxFormField</span><span class="p">,</span>
    <span class="nx">textarea</span><span class="o">:</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">TextAreaFormField</span><span class="p">,</span>
    <span class="nx">password</span><span class="o">:</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">PasswordFormField</span><span class="p">,</span>
    <span class="nx">submit</span><span class="o">:</span> <span class="nx">Duckbone</span><span class="p">.</span><span class="nx">SubmitFormField</span>
  <span class="p">};</span>

<span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span></pre></div>
      </td>
    </tr>
  </table>
</div>
</body>
